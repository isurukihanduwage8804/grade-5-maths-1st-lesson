import streamlit as st
import streamlit.components.v1 as components

# ‡∂¥‡∑í‡∂ß‡∑î‡∑Ä‡∑ö ‡∑É‡∑ê‡∂ö‡∑É‡∑î‡∂∏‡∑ä
st.set_page_config(page_title="‡∂ú‡∂´‡∑í‡∂≠‡∂∫ ‡∂Ω‡∑ù‡∂ö‡∂∫ - 5 ‡∑Å‡∑ä‚Äç‡∂ª‡∑ö‡∂´‡∑í‡∂∫", page_icon="üåü", layout="centered")

# ‡∑Å‡∂∂‡∑ä‡∂Ø ‡∂Ω‡∂∂‡∑è ‡∂Ø‡∑ì‡∂∏‡∂ß ‡∂∑‡∑è‡∑Ä‡∑í‡∂≠‡∑è ‡∂ö‡∂ª‡∂± JavaScript ‡∑Å‡∑ä‚Äç‡∂ª‡∑í‡∂≠‡∂∫
def play_sound(url):
    components.html(
        f"""
        <audio autoplay>
            <source src="{url}" type="audio/mpeg">
        </audio>
        """,
        height=0,
    )

def main():
    # Application ‡∂ë‡∂ö‡∑ö ‡∂â‡∑Ñ‡∑Ö ‡∂ö‡∑ú‡∂ß‡∑É ‡∂Ω‡∑É‡∑ä‡∑É‡∂± ‡∂ö‡∑í‡∂ª‡∑ì‡∂∏
    st.markdown("""
        <style>
        .main-title {
            color: #2E86C1;
            text-align: center;
            font-size: 40px;
            font-weight: bold;
            text-shadow: 2px 2px #D6EAF8;
        }
        .stRadio > label {
            font-weight: bold;
            color: #1B4F72;
        }
        </style>
        """, unsafe_allow_html=True)

    st.markdown('<p class="main-title">üåü 5 ‡∑Å‡∑ä‚Äç‡∂ª‡∑ö‡∂´‡∑í‡∂∫ ‡∂ú‡∂´‡∑í‡∂≠‡∂∫: 1 ‡∑Ä‡∂± ‡∂¥‡∑è‡∂©‡∂∏ üåü</p>', unsafe_allow_html=True)
    st.write("---")

    # ‡∂¥‡∑ä‚Äç‡∂ª‡∑Å‡∑ä‡∂± ‡∂Ø‡∂≠‡∑ä‡∂≠
    questions = [
        {"id": 1, "q": "1. 1, 4, 8, 9 ‡∂∫‡∂± ‡∂â‡∂Ω‡∂ö‡∑ä‡∂ö‡∂∏‡∑ä ‡∂∑‡∑è‡∑Ä‡∑í‡∂≠‡∂∫‡∑ô‡∂±‡∑ä ‡∂Ω‡∑í‡∑Ä‡∑í‡∂∫ ‡∑Ñ‡∑ê‡∂ö‡∑í ‡∑Ä‡∑í‡∑Å‡∑è‡∂Ω‡∂∏ ‡∑É‡∂Ç‡∂õ‡∑ä‚Äç‡∂∫‡∑è‡∑Ä:", "options": ["8941", "9841", "9481"], "correct": "9841"},
        {"id": 2, "q": "2. '6528' ‡∂Ö‡∂ö‡∑î‡∂ª‡∑ô‡∂±‡∑ä ‡∂Ω‡∑í‡∂∫‡∑ñ ‡∑Ä‡∑í‡∂ß:", "options": ["‡∑Ñ‡∂∫‡∂Ø‡∑Ñ‡∑É‡∑ä ‡∂¥‡∂±‡∑ä‡∑É‡∑í‡∂∫ ‡∑Ä‡∑í‡∑É‡∑í ‡∂Ö‡∂ß", "‡∑Ñ‡∂∫‡∂Ø‡∑Ñ‡∑É‡∑ä ‡∂¥‡∂±‡∑ä‡∑É‡∑í‡∂∫ ‡∂Ö‡∑É‡∑ñ ‡∂Ø‡∑ô‡∂ö", "‡∑Ñ‡∂∫‡∂Ø‡∑Ñ‡∑É‡∑ä ‡∂Ø‡∑ô‡∑É‡∑í‡∂∫ ‡∂¥‡∂±‡∑É‡∑ä ‡∂Ö‡∂ß"], "correct": "‡∑Ñ‡∂∫‡∂Ø‡∑Ñ‡∑É‡∑ä ‡∂¥‡∂±‡∑ä‡∑É‡∑í‡∂∫ ‡∑Ä‡∑í‡∑É‡∑í ‡∂Ö‡∂ß"},
        {"id": 3, "q": "3. '‡∂≠‡∑î‡∂±‡∑ä‡∂Ø‡∑Ñ‡∑É‡∑ä ‡∂ë‡∂ö‡∑É‡∑í‡∂∫ ‡∂ë‡∂ö' ‡∑É‡∂Ç‡∂õ‡∑ä‚Äç‡∂∫‡∑è‡∂Ç‡∂ö‡∂∫‡∑ô‡∂±‡∑ä:", "options": ["3110", "3011", "3101"], "correct": "3101"},
        {"id": 4, "q": "4. 2348 ‡∑Ñ‡∑í '3' ‡∂¥‡∑í‡∑Ñ‡∑í‡∂ß‡∑í ‡∑É‡∑ä‡∂Æ‡∑è‡∂±‡∂∫:", "options": ["‡∂Ø‡∑Ñ‡∂∫", "‡∑É‡∑í‡∂∫‡∂∫", "‡∂Ø‡∑Ñ‡∑É‡∑ä"], "correct": "‡∑É‡∑í‡∂∫‡∂∫"},
        {"id": 5, "q": "5. 5024 ‡∑Ñ‡∑í '0' ‡∂â‡∂Ω‡∂ö‡∑ä‡∂ö‡∂∏‡∑ô‡∂±‡∑ä ‡∂±‡∑í‡∂ª‡∑ñ‡∂¥‡∂´‡∂∫ ‡∑Ä‡∂± ‡∂Ö‡∂ú‡∂∫:", "options": ["0", "100", "000"], "correct": "0"},
        {"id": 6, "q": "6. 8027 ‡∑Ä‡∑í‡∑Ñ‡∑í‡∂Ø‡∑î‡∑Ä‡∑è ‡∂Ω‡∑í‡∂∫‡∑ñ ‡∂±‡∑í‡∑Ä‡∑ê‡∂ª‡∂Ø‡∑í ‡∂Ü‡∂ö‡∑è‡∂ª‡∂∫:", "options": ["800 + 0 + 20 + 7", "8000 + 200 + 7", "8000 + 0 + 20 + 7"], "correct": "8000 + 0 + 20 + 7"},
        {"id": 7, "q": "7. 9999 ‡∂ß ‡∑Ä‡∂©‡∑è 1‡∂ö‡∑ä ‡∑Ä‡∑ê‡∂©‡∑í ‡∑Ä‡∑ñ ‡∑Ä‡∑í‡∂ß ‡∂Ω‡∑ê‡∂∂‡∑ô‡∂± ‡∑É‡∂Ç‡∂õ‡∑ä‚Äç‡∂∫‡∑è‡∑Ä:", "options": ["1000", "10000", "100000"], "correct": "10000"},
        {"id": 8, "q": "8. 69 999 + 1 ‡∑Ñ‡∑í ‡∂¥‡∑í‡∑Ö‡∑í‡∂≠‡∑î‡∂ª:", "options": ["70000", "69100", "60000"], "correct": "70000"},
        {"id": 9, "q": "9. ‡∂Ø‡∑É ‡∂Ø‡∑Ñ‡∑É‡∑ä 2, ‡∂Ø‡∑Ñ‡∑É‡∑ä 7, ‡∑É‡∑í‡∂∫‡∂∫ 3, ‡∂Ø‡∑Ñ‡∂∫ 9 ‡∑É‡∑Ñ ‡∂í‡∂ö‡∂ö 4 ‡∑Ä‡∂± ‡∑É‡∂Ç‡∂õ‡∑ä‚Äç‡∂∫‡∑è‡∑Ä:", "options": ["72394", "27394", "27934"], "correct": "27394"},
        {"id": 10, "q": "10. 40 000 ‡∂ß ‡∑Ñ‡∂ª‡∑í‡∂∫‡∂ß‡∂∏ ‡∂¥‡∑ô‡∂ª ‡∂¥‡∑í‡∑Ñ‡∑í‡∂ß‡∑í ‡∑É‡∂Ç‡∂õ‡∑ä‚Äç‡∂∫‡∑è‡∑Ä:", "options": ["40001", "39990", "39999"], "correct": "39999"}
    ]

    user_answers = {}
    for item in questions:
        user_answers[item["id"]] = st.radio(item["q"], item["options"], index=None, key=f"q{item['id']}")
        st.write("")

    if st.button("‚úÖ ‡∂¥‡∑í‡∑Ö‡∑í‡∂≠‡∑î‡∂ª‡∑î ‡∂¥‡∂ª‡∑ì‡∂ö‡∑ä‡∑Ç‡∑è ‡∂ö‡∂ª‡∂∏‡∑î"):
        score = 0
        correct_found = False
        wrong_found = False

        st.subheader("üìä ‡∂î‡∂∂‡∑ö ‡∂¥‡∑ä‚Äç‡∂ª‡∂≠‡∑í‡∂µ‡∂Ω ‡∑É‡∑è‡∂ª‡∑è‡∂Ç‡∑Å‡∂∫:")
        
        for item in questions:
            if user_answers[item["id"]] == item["correct"]:
                st.success(f"‡∂¥‡∑ä‚Äç‡∂ª‡∑Å‡∑ä‡∂±‡∂∫ {item['id']}: ‡∂±‡∑í‡∑Ä‡∑ê‡∂ª‡∂Ø‡∑í‡∂∫‡∑í! üéØ")
                score += 1
                correct_found = True
            else:
                st.error(f"‡∂¥‡∑ä‚Äç‡∂ª‡∑Å‡∑ä‡∂±‡∂∫ {item['id']}: ‡∑Ä‡∑ê‡∂ª‡∂Ø‡∑í‡∂∫‡∑í ‚ùå. ‡∂±‡∑í‡∑Ä‡∑ê‡∂ª‡∂Ø‡∑í ‡∂¥‡∑í‡∑Ö‡∑í‡∂≠‡∑î‡∂ª: {item['correct']}")
                wrong_found = True
        
        # ‡∂Ω‡∂ö‡∑î‡∂´‡∑î ‡∂Ö‡∂±‡∑î‡∑Ä ‡∑Å‡∂∂‡∑ä‡∂Ø ‡∑É‡∑Ñ ‡∑É‡∑ê‡∂∏‡∂ª‡∑î‡∂∏‡∑ä
        if score == 10:
            st.balloons()
            # Success Sound (‡∂±‡∑ú‡∂∏‡∑í‡∂Ω‡∑ö ‡∂Ω‡∂∂‡∑è‡∂ú‡∂≠ ‡∑Ñ‡∑ê‡∂ö‡∑í sound URL ‡∂ë‡∂ö‡∂ö‡∑ä)
            play_sound("https://www.soundjay.com/misc/sounds/bell-ringing-05.mp3")
            st.success(f"‡∑É‡∑î‡∂∑ ‡∂¥‡∑ê‡∂≠‡∑î‡∂∏‡∑ä! ‡∂î‡∂∂ 10/10 ‡∂∏ ‡∂Ω‡∂∂‡∑è ‡∂ú‡∂≠‡∑ä‡∂≠‡∑è! üèÜ")
        elif score >= 5:
            play_sound("https://www.soundjay.com/misc/sounds/magic-chime-01.mp3")
            st.warning(f"‡∑Ñ‡∑ú‡∂≥ ‡∂ã‡∂≠‡∑ä‡∑É‡∑è‡∑Ñ‡∂∫‡∂ö‡∑ä! ‡∂î‡∂∂‡∑ö ‡∂Ω‡∂ö‡∑î‡∂´‡∑î ‡∂¥‡∑ä‚Äç‡∂ª‡∂∏‡∑è‡∂´‡∂∫: {score}/10")
        else:
            play_sound("https://www.soundjay.com/button/sounds/button-10.mp3")
            st.error(f"‡∂±‡∑ê‡∑Ä‡∂≠ ‡∂ã‡∂≠‡∑ä‡∑É‡∑è‡∑Ñ ‡∂ö‡∂ª‡∂∏‡∑î! ‡∂î‡∂∂‡∑ö ‡∂Ω‡∂ö‡∑î‡∂´‡∑î ‡∂¥‡∑ä‚Äç‡∂ª‡∂∏‡∑è‡∂´‡∂∫: {score}/10")

if __name__ == "__main__":
    main()
